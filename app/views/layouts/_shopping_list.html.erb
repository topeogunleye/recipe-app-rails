
<br>
<h3 style="text-align: center">Shopping List</h3>
<hr>
<% if params[:inventory_id].nil? %>
    <p style="text-align: center; margin-bottom: 90px">Shopping list not generated yet...</p>
<% else %>
<div class="d-flex justify-content-between">
  <div class="shopping-data">
    <h3>Amount of food to buy: <%= @meta_data.count %></h3>
    <h3>Recipe: <i><%= link_to @recipe.name, recipe_path(@recipe), style: "color: blue" %></i></h3>
  </div>
  <br>
  <div class="shopping-data">
    <h3>Total value of food needed: $<%= @total_price %></h3>
    <div><h3>Inventory: <i><%= link_to @inventory.name, inventory_path(@inventory), style: "color: blue" %></i></h3></div>
  </div>
</div>
  <br>
  <table id = "customers" class="table table-striped table-dark">
    <thead>
      <tr>
        <th>Food</th>
        <th>Quantity</th>
        <th>price</th>
      </tr>
    </thead>
    <tbody>
      <% @meta_data.each do |item| %>
        <tr>
          <td><%= item[1]  %></td>
          <td><%= RecipeFood.find_by(food_id: item[0]).quantity %> <%= item[2] %></td>
          <td>$<%= RecipeFood.find_by(food_id: item[0]).quantity * item[3]  %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
